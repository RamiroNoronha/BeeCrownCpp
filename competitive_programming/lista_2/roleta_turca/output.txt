p = 1 % 4 = 1
memo[0][1] = max(memo[0][0] = -1, b[0] * (s[1] + s[2]) = 1 * (0 + 2)) = 2
p = 2 % 4 = 2
memo[0][2] = max(memo[0][1] = 2, b[0] * (s[2] + s[3]) = 1 * (2 + -1)) = 2
p = 3 % 4 = 3
memo[0][3] = max(memo[0][2] = 2, b[0] * (s[3] + s[0]) = 1 * (-1 + -1)) = 2
p = 4 % 4 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = 1 * (-1 + 0)) = 2
-------------------------
p = 2 % 4 = 2
memo[1][2] = max(memo[1][1] = -1061109567, memo[0][0] + b[1] * (s[2] + s[3]) = 2 + -1 * (2 + -1)) = 1
p = 3 % 4 = 3
memo[1][3] = max(memo[1][2] = 1, memo[0][1] + b[1] * (s[3] + s[0]) = 2 + -1 * (-1 + -1)) = 4
p = 4 % 4 = 0
memo[1][0] = max(memo[1][3] = 4, memo[0][2] + b[1] * (s[0] + s[1]) = 2 + -1 * (-1 + 0)) = 4
p = 4 % 4 = 0
memo[2][0] = max(memo[2][3] = -1061109567, memo[1][2] + b[2] * (s[0] + s[1]) = 1 + 0 * (-1 + 0)) = 1
-------------------------
-------------------------
p = 2 % 4 = 2
memo[0][2] = max(memo[0][1] = 2, b[0] * (s[2] + s[3]) = 1 * (2 + -1)) = 2
p = 3 % 4 = 3
memo[0][3] = max(memo[0][2] = 2, b[0] * (s[3] + s[0]) = 1 * (-1 + -1)) = 2
p = 4 % 4 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = 1 * (-1 + 0)) = 2
-------------------------
p = 2 % 4 = 3
memo[1][3] = max(memo[1][2] = 1, memo[0][0] + b[1] * (s[3] + s[0]) = 2 + -1 * (-1 + -1)) = 4
p = 3 % 4 = 0
memo[1][0] = max(memo[1][3] = 4, memo[0][1] + b[1] * (s[0] + s[1]) = 2 + -1 * (-1 + 0)) = 4
p = 4 % 4 = 1
memo[1][1] = max(memo[1][0] = 4, memo[0][2] + b[1] * (s[1] + s[2]) = 2 + -1 * (0 + 2)) = 4
p = 4 % 4 = 1
memo[2][1] = max(memo[2][0] = 1, memo[1][2] + b[2] * (s[1] + s[2]) = 1 + 0 * (0 + 2)) = 1
-------------------------
-------------------------
p = 3 % 4 = 3
memo[0][3] = max(memo[0][2] = 1, b[0] * (s[3] + s[0]) = 1 * (-1 + -1)) = 1
p = 4 % 4 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = 1 * (-1 + 0)) = 1
-------------------------
p = 2 % 4 = 0
memo[1][0] = max(memo[1][3] = 4, memo[0][0] + b[1] * (s[0] + s[1]) = 1 + -1 * (-1 + 0)) = 4
p = 3 % 4 = 1
memo[1][1] = max(memo[1][0] = 4, memo[0][1] + b[1] * (s[1] + s[2]) = 2 + -1 * (0 + 2)) = 4
p = 4 % 4 = 2
memo[1][2] = max(memo[1][1] = 4, memo[0][2] + b[1] * (s[2] + s[3]) = 1 + -1 * (2 + -1)) = 4
p = 4 % 4 = 2
memo[2][2] = max(memo[2][1] = 1, memo[1][2] + b[2] * (s[2] + s[3]) = 4 + 0 * (2 + -1)) = 4
-------------------------
-------------------------
p = 4 % 4 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = 1 * (-1 + 0)) = -1
-------------------------
p = 2 % 4 = 1
memo[1][1] = max(memo[1][0] = 4, memo[0][0] + b[1] * (s[1] + s[2]) = -1 + -1 * (0 + 2)) = 4
p = 3 % 4 = 2
memo[1][2] = max(memo[1][1] = 4, memo[0][1] + b[1] * (s[2] + s[3]) = 2 + -1 * (2 + -1)) = 4
p = 4 % 4 = 3
memo[1][3] = max(memo[1][2] = 4, memo[0][2] + b[1] * (s[3] + s[0]) = 1 + -1 * (-1 + -1)) = 4
p = 4 % 4 = 3
memo[2][3] = max(memo[2][2] = 4, memo[1][2] + b[2] * (s[3] + s[0]) = 4 + 0 * (-1 + -1)) = 4
-------------------------
-------------------------
-------------------------
p = 2 % 4 = 2
memo[1][2] = max(memo[1][1] = 4, memo[0][0] + b[1] * (s[2] + s[3]) = -1 + -1 * (2 + -1)) = 4
p = 3 % 4 = 3
memo[1][3] = max(memo[1][2] = 4, memo[0][1] + b[1] * (s[3] + s[0]) = 2 + -1 * (-1 + -1)) = 4
p = 4 % 4 = 0
memo[1][0] = max(memo[1][3] = 4, memo[0][2] + b[1] * (s[0] + s[1]) = 1 + -1 * (-1 + 0)) = 4
p = 4 % 4 = 0
memo[2][0] = max(memo[2][3] = 4, memo[1][2] + b[2] * (s[0] + s[1]) = 4 + 0 * (-1 + 0)) = 4
-------------------------
-------------------------
4
p = 1 % 5 = 1
memo[0][1] = max(memo[0][0] = -10, b[0] * (s[1] + s[2]) = -2 * (2 + -1)) = -2
p = 2 % 5 = 2
memo[0][2] = max(memo[0][1] = -2, b[0] * (s[2] + s[3]) = -2 * (-1 + 7)) = -2
p = 3 % 5 = 3
memo[0][3] = max(memo[0][2] = -2, b[0] * (s[3] + s[4]) = -2 * (7 + 1)) = -2
p = 4 % 5 = 4
memo[0][4] = max(memo[0][3] = -2, b[0] * (s[4] + s[0]) = -2 * (1 + 3)) = -2
p = 5 % 5 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = -2 * (3 + 2)) = -2
-------------------------
p = 2 % 5 = 2
memo[1][2] = max(memo[1][1] = -1061109567, memo[0][0] + b[1] * (s[2] + s[3]) = -2 + -3 * (-1 + 7)) = -20
p = 3 % 5 = 3
memo[1][3] = max(memo[1][2] = -20, memo[0][1] + b[1] * (s[3] + s[4]) = -2 + -3 * (7 + 1)) = -20
p = 4 % 5 = 4
memo[1][4] = max(memo[1][3] = -20, memo[0][2] + b[1] * (s[4] + s[0]) = -2 + -3 * (1 + 3)) = -14
p = 5 % 5 = 0
memo[1][0] = max(memo[1][4] = -14, memo[0][3] + b[1] * (s[0] + s[1]) = -2 + -3 * (3 + 2)) = -14
p = 4 % 5 = 4
memo[2][4] = max(memo[2][3] = -1061109567, memo[1][2] + b[2] * (s[4] + s[0]) = -20 + 0 * (1 + 3)) = -20
p = 5 % 5 = 0
memo[2][0] = max(memo[2][4] = -20, memo[1][3] + b[2] * (s[0] + s[1]) = -20 + 0 * (3 + 2)) = -20
-------------------------
-------------------------
p = 2 % 5 = 2
memo[0][2] = max(memo[0][1] = -2, b[0] * (s[2] + s[3]) = -2 * (-1 + 7)) = -2
p = 3 % 5 = 3
memo[0][3] = max(memo[0][2] = -2, b[0] * (s[3] + s[4]) = -2 * (7 + 1)) = -2
p = 4 % 5 = 4
memo[0][4] = max(memo[0][3] = -2, b[0] * (s[4] + s[0]) = -2 * (1 + 3)) = -2
p = 5 % 5 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = -2 * (3 + 2)) = -2
-------------------------
p = 2 % 5 = 3
memo[1][3] = max(memo[1][2] = -20, memo[0][0] + b[1] * (s[3] + s[4]) = -2 + -3 * (7 + 1)) = -20
p = 3 % 5 = 4
memo[1][4] = max(memo[1][3] = -20, memo[0][1] + b[1] * (s[4] + s[0]) = -2 + -3 * (1 + 3)) = -14
p = 4 % 5 = 0
memo[1][0] = max(memo[1][4] = -14, memo[0][2] + b[1] * (s[0] + s[1]) = -2 + -3 * (3 + 2)) = -14
p = 5 % 5 = 1
memo[1][1] = max(memo[1][0] = -14, memo[0][3] + b[1] * (s[1] + s[2]) = -2 + -3 * (2 + -1)) = -5
p = 4 % 5 = 0
memo[2][0] = max(memo[2][4] = -20, memo[1][2] + b[2] * (s[0] + s[1]) = -20 + 0 * (3 + 2)) = -20
p = 5 % 5 = 1
memo[2][1] = max(memo[2][0] = -20, memo[1][3] + b[2] * (s[1] + s[2]) = -20 + 0 * (2 + -1)) = -20
-------------------------
-------------------------
p = 3 % 5 = 3
memo[0][3] = max(memo[0][2] = -12, b[0] * (s[3] + s[4]) = -2 * (7 + 1)) = -12
p = 4 % 5 = 4
memo[0][4] = max(memo[0][3] = -12, b[0] * (s[4] + s[0]) = -2 * (1 + 3)) = -8
p = 5 % 5 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = -2 * (3 + 2)) = -8
-------------------------
p = 2 % 5 = 4
memo[1][4] = max(memo[1][3] = -20, memo[0][0] + b[1] * (s[4] + s[0]) = -8 + -3 * (1 + 3)) = -20
p = 3 % 5 = 0
memo[1][0] = max(memo[1][4] = -20, memo[0][1] + b[1] * (s[0] + s[1]) = -2 + -3 * (3 + 2)) = -17
p = 4 % 5 = 1
memo[1][1] = max(memo[1][0] = -17, memo[0][2] + b[1] * (s[1] + s[2]) = -12 + -3 * (2 + -1)) = -15
p = 5 % 5 = 2
memo[1][2] = max(memo[1][1] = -15, memo[0][3] + b[1] * (s[2] + s[3]) = -12 + -3 * (-1 + 7)) = -15
p = 4 % 5 = 1
memo[2][1] = max(memo[2][0] = -20, memo[1][2] + b[2] * (s[1] + s[2]) = -15 + 0 * (2 + -1)) = -15
p = 5 % 5 = 2
memo[2][2] = max(memo[2][1] = -15, memo[1][3] + b[2] * (s[2] + s[3]) = -20 + 0 * (-1 + 7)) = -15
-------------------------
-------------------------
p = 4 % 5 = 4
memo[0][4] = max(memo[0][3] = -16, b[0] * (s[4] + s[0]) = -2 * (1 + 3)) = -8
p = 5 % 5 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = -2 * (3 + 2)) = -8
-------------------------
p = 2 % 5 = 0
memo[1][0] = max(memo[1][4] = -20, memo[0][0] + b[1] * (s[0] + s[1]) = -8 + -3 * (3 + 2)) = -20
p = 3 % 5 = 1
memo[1][1] = max(memo[1][0] = -20, memo[0][1] + b[1] * (s[1] + s[2]) = -2 + -3 * (2 + -1)) = -5
p = 4 % 5 = 2
memo[1][2] = max(memo[1][1] = -5, memo[0][2] + b[1] * (s[2] + s[3]) = -12 + -3 * (-1 + 7)) = -5
p = 5 % 5 = 3
memo[1][3] = max(memo[1][2] = -5, memo[0][3] + b[1] * (s[3] + s[4]) = -16 + -3 * (7 + 1)) = -5
p = 4 % 5 = 2
memo[2][2] = max(memo[2][1] = -15, memo[1][2] + b[2] * (s[2] + s[3]) = -5 + 0 * (-1 + 7)) = -5
p = 5 % 5 = 3
memo[2][3] = max(memo[2][2] = -5, memo[1][3] + b[2] * (s[3] + s[4]) = -5 + 0 * (7 + 1)) = -5
-------------------------
-------------------------
p = 5 % 5 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = -2 * (3 + 2)) = -8
-------------------------
p = 2 % 5 = 1
memo[1][1] = max(memo[1][0] = -20, memo[0][0] + b[1] * (s[1] + s[2]) = -8 + -3 * (2 + -1)) = -11
p = 3 % 5 = 2
memo[1][2] = max(memo[1][1] = -11, memo[0][1] + b[1] * (s[2] + s[3]) = -2 + -3 * (-1 + 7)) = -11
p = 4 % 5 = 3
memo[1][3] = max(memo[1][2] = -11, memo[0][2] + b[1] * (s[3] + s[4]) = -12 + -3 * (7 + 1)) = -11
p = 5 % 5 = 4
memo[1][4] = max(memo[1][3] = -11, memo[0][3] + b[1] * (s[4] + s[0]) = -16 + -3 * (1 + 3)) = -11
p = 4 % 5 = 3
memo[2][3] = max(memo[2][2] = -5, memo[1][2] + b[2] * (s[3] + s[4]) = -11 + 0 * (7 + 1)) = -5
p = 5 % 5 = 4
memo[2][4] = max(memo[2][3] = -5, memo[1][3] + b[2] * (s[4] + s[0]) = -11 + 0 * (1 + 3)) = -5
-------------------------
-------------------------
-------------------------
p = 2 % 5 = 2
memo[1][2] = max(memo[1][1] = -11, memo[0][0] + b[1] * (s[2] + s[3]) = -8 + -3 * (-1 + 7)) = -11
p = 3 % 5 = 3
memo[1][3] = max(memo[1][2] = -11, memo[0][1] + b[1] * (s[3] + s[4]) = -2 + -3 * (7 + 1)) = -11
p = 4 % 5 = 4
memo[1][4] = max(memo[1][3] = -11, memo[0][2] + b[1] * (s[4] + s[0]) = -12 + -3 * (1 + 3)) = -11
p = 5 % 5 = 0
memo[1][0] = max(memo[1][4] = -11, memo[0][3] + b[1] * (s[0] + s[1]) = -16 + -3 * (3 + 2)) = -11
p = 4 % 5 = 4
memo[2][4] = max(memo[2][3] = -5, memo[1][2] + b[2] * (s[4] + s[0]) = -11 + 0 * (1 + 3)) = -5
p = 5 % 5 = 0
memo[2][0] = max(memo[2][4] = -5, memo[1][3] + b[2] * (s[0] + s[1]) = -11 + 0 * (3 + 2)) = -5
-------------------------
-------------------------
-5
p = 1 % 7 = 1
memo[0][1] = max(memo[0][0] = -10, b[0] * (s[1] + s[2]) = 10 * (3 + 2)) = 50
p = 2 % 7 = 2
memo[0][2] = max(memo[0][1] = 50, b[0] * (s[2] + s[3]) = 10 * (2 + 1)) = 50
p = 3 % 7 = 3
memo[0][3] = max(memo[0][2] = 50, b[0] * (s[3] + s[4]) = 10 * (1 + 0)) = 50
p = 4 % 7 = 4
memo[0][4] = max(memo[0][3] = 50, b[0] * (s[4] + s[5]) = 10 * (0 + -4)) = 50
p = 5 % 7 = 5
memo[0][5] = max(memo[0][4] = 50, b[0] * (s[5] + s[6]) = 10 * (-4 + -2)) = 50
p = 6 % 7 = 6
memo[0][6] = max(memo[0][5] = 50, b[0] * (s[6] + s[0]) = 10 * (-2 + -4)) = 50
p = 7 % 7 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = 10 * (-4 + 3)) = 50
-------------------------
p = 2 % 7 = 2
memo[1][2] = max(memo[1][1] = -1061109567, memo[0][0] + b[1] * (s[2] + s[3]) = 50 + 0 * (2 + 1)) = 50
p = 3 % 7 = 3
memo[1][3] = max(memo[1][2] = 50, memo[0][1] + b[1] * (s[3] + s[4]) = 50 + 0 * (1 + 0)) = 50
p = 4 % 7 = 4
memo[1][4] = max(memo[1][3] = 50, memo[0][2] + b[1] * (s[4] + s[5]) = 50 + 0 * (0 + -4)) = 50
p = 5 % 7 = 5
memo[1][5] = max(memo[1][4] = 50, memo[0][3] + b[1] * (s[5] + s[6]) = 50 + 0 * (-4 + -2)) = 50
p = 6 % 7 = 6
memo[1][6] = max(memo[1][5] = 50, memo[0][4] + b[1] * (s[6] + s[0]) = 50 + 0 * (-2 + -4)) = 50
p = 7 % 7 = 0
memo[1][0] = max(memo[1][6] = 50, memo[0][5] + b[1] * (s[0] + s[1]) = 50 + 0 * (-4 + 3)) = 50
p = 4 % 7 = 4
memo[2][4] = max(memo[2][3] = -1061109567, memo[1][2] + b[2] * (s[4] + s[5]) = 50 + -1 * (0 + -4)) = 54
p = 5 % 7 = 5
memo[2][5] = max(memo[2][4] = 54, memo[1][3] + b[2] * (s[5] + s[6]) = 50 + -1 * (-4 + -2)) = 56
p = 6 % 7 = 6
memo[2][6] = max(memo[2][5] = 56, memo[1][4] + b[2] * (s[6] + s[0]) = 50 + -1 * (-2 + -4)) = 56
p = 7 % 7 = 0
memo[2][0] = max(memo[2][6] = 56, memo[1][5] + b[2] * (s[0] + s[1]) = 50 + -1 * (-4 + 3)) = 56
p = 6 % 7 = 6
memo[3][6] = max(memo[3][5] = -1061109567, memo[2][4] + b[3] * (s[6] + s[0]) = 54 + 0 * (-2 + -4)) = 54
p = 7 % 7 = 0
memo[3][0] = max(memo[3][6] = 54, memo[2][5] + b[3] * (s[0] + s[1]) = 56 + 0 * (-4 + 3)) = 56
-------------------------
-------------------------
p = 2 % 7 = 2
memo[0][2] = max(memo[0][1] = 50, b[0] * (s[2] + s[3]) = 10 * (2 + 1)) = 50
p = 3 % 7 = 3
memo[0][3] = max(memo[0][2] = 50, b[0] * (s[3] + s[4]) = 10 * (1 + 0)) = 50
p = 4 % 7 = 4
memo[0][4] = max(memo[0][3] = 50, b[0] * (s[4] + s[5]) = 10 * (0 + -4)) = 50
p = 5 % 7 = 5
memo[0][5] = max(memo[0][4] = 50, b[0] * (s[5] + s[6]) = 10 * (-4 + -2)) = 50
p = 6 % 7 = 6
memo[0][6] = max(memo[0][5] = 50, b[0] * (s[6] + s[0]) = 10 * (-2 + -4)) = 50
p = 7 % 7 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = 10 * (-4 + 3)) = 50
-------------------------
p = 2 % 7 = 3
memo[1][3] = max(memo[1][2] = 50, memo[0][0] + b[1] * (s[3] + s[4]) = 50 + 0 * (1 + 0)) = 50
p = 3 % 7 = 4
memo[1][4] = max(memo[1][3] = 50, memo[0][1] + b[1] * (s[4] + s[5]) = 50 + 0 * (0 + -4)) = 50
p = 4 % 7 = 5
memo[1][5] = max(memo[1][4] = 50, memo[0][2] + b[1] * (s[5] + s[6]) = 50 + 0 * (-4 + -2)) = 50
p = 5 % 7 = 6
memo[1][6] = max(memo[1][5] = 50, memo[0][3] + b[1] * (s[6] + s[0]) = 50 + 0 * (-2 + -4)) = 50
p = 6 % 7 = 0
memo[1][0] = max(memo[1][6] = 50, memo[0][4] + b[1] * (s[0] + s[1]) = 50 + 0 * (-4 + 3)) = 50
p = 7 % 7 = 1
memo[1][1] = max(memo[1][0] = 50, memo[0][5] + b[1] * (s[1] + s[2]) = 50 + 0 * (3 + 2)) = 50
p = 4 % 7 = 5
memo[2][5] = max(memo[2][4] = 54, memo[1][2] + b[2] * (s[5] + s[6]) = 50 + -1 * (-4 + -2)) = 56
p = 5 % 7 = 6
memo[2][6] = max(memo[2][5] = 56, memo[1][3] + b[2] * (s[6] + s[0]) = 50 + -1 * (-2 + -4)) = 56
p = 6 % 7 = 0
memo[2][0] = max(memo[2][6] = 56, memo[1][4] + b[2] * (s[0] + s[1]) = 50 + -1 * (-4 + 3)) = 56
p = 7 % 7 = 1
memo[2][1] = max(memo[2][0] = 56, memo[1][5] + b[2] * (s[1] + s[2]) = 50 + -1 * (3 + 2)) = 56
p = 6 % 7 = 0
memo[3][0] = max(memo[3][6] = 54, memo[2][4] + b[3] * (s[0] + s[1]) = 54 + 0 * (-4 + 3)) = 54
p = 7 % 7 = 1
memo[3][1] = max(memo[3][0] = 54, memo[2][5] + b[3] * (s[1] + s[2]) = 56 + 0 * (3 + 2)) = 56
-------------------------
-------------------------
p = 3 % 7 = 3
memo[0][3] = max(memo[0][2] = 30, b[0] * (s[3] + s[4]) = 10 * (1 + 0)) = 30
p = 4 % 7 = 4
memo[0][4] = max(memo[0][3] = 30, b[0] * (s[4] + s[5]) = 10 * (0 + -4)) = 30
p = 5 % 7 = 5
memo[0][5] = max(memo[0][4] = 30, b[0] * (s[5] + s[6]) = 10 * (-4 + -2)) = 30
p = 6 % 7 = 6
memo[0][6] = max(memo[0][5] = 30, b[0] * (s[6] + s[0]) = 10 * (-2 + -4)) = 30
p = 7 % 7 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = 10 * (-4 + 3)) = 30
-------------------------
p = 2 % 7 = 4
memo[1][4] = max(memo[1][3] = 50, memo[0][0] + b[1] * (s[4] + s[5]) = 30 + 0 * (0 + -4)) = 50
p = 3 % 7 = 5
memo[1][5] = max(memo[1][4] = 50, memo[0][1] + b[1] * (s[5] + s[6]) = 50 + 0 * (-4 + -2)) = 50
p = 4 % 7 = 6
memo[1][6] = max(memo[1][5] = 50, memo[0][2] + b[1] * (s[6] + s[0]) = 30 + 0 * (-2 + -4)) = 50
p = 5 % 7 = 0
memo[1][0] = max(memo[1][6] = 50, memo[0][3] + b[1] * (s[0] + s[1]) = 30 + 0 * (-4 + 3)) = 50
p = 6 % 7 = 1
memo[1][1] = max(memo[1][0] = 50, memo[0][4] + b[1] * (s[1] + s[2]) = 30 + 0 * (3 + 2)) = 50
p = 7 % 7 = 2
memo[1][2] = max(memo[1][1] = 50, memo[0][5] + b[1] * (s[2] + s[3]) = 30 + 0 * (2 + 1)) = 50
p = 4 % 7 = 6
memo[2][6] = max(memo[2][5] = 56, memo[1][2] + b[2] * (s[6] + s[0]) = 50 + -1 * (-2 + -4)) = 56
p = 5 % 7 = 0
memo[2][0] = max(memo[2][6] = 56, memo[1][3] + b[2] * (s[0] + s[1]) = 50 + -1 * (-4 + 3)) = 56
p = 6 % 7 = 1
memo[2][1] = max(memo[2][0] = 56, memo[1][4] + b[2] * (s[1] + s[2]) = 50 + -1 * (3 + 2)) = 56
p = 7 % 7 = 2
memo[2][2] = max(memo[2][1] = 56, memo[1][5] + b[2] * (s[2] + s[3]) = 50 + -1 * (2 + 1)) = 56
p = 6 % 7 = 1
memo[3][1] = max(memo[3][0] = 54, memo[2][4] + b[3] * (s[1] + s[2]) = 54 + 0 * (3 + 2)) = 54
p = 7 % 7 = 2
memo[3][2] = max(memo[3][1] = 54, memo[2][5] + b[3] * (s[2] + s[3]) = 56 + 0 * (2 + 1)) = 56
-------------------------
-------------------------
p = 4 % 7 = 4
memo[0][4] = max(memo[0][3] = 10, b[0] * (s[4] + s[5]) = 10 * (0 + -4)) = 10
p = 5 % 7 = 5
memo[0][5] = max(memo[0][4] = 10, b[0] * (s[5] + s[6]) = 10 * (-4 + -2)) = 10
p = 6 % 7 = 6
memo[0][6] = max(memo[0][5] = 10, b[0] * (s[6] + s[0]) = 10 * (-2 + -4)) = 10
p = 7 % 7 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = 10 * (-4 + 3)) = 10
-------------------------
p = 2 % 7 = 5
memo[1][5] = max(memo[1][4] = 50, memo[0][0] + b[1] * (s[5] + s[6]) = 10 + 0 * (-4 + -2)) = 50
p = 3 % 7 = 6
memo[1][6] = max(memo[1][5] = 50, memo[0][1] + b[1] * (s[6] + s[0]) = 50 + 0 * (-2 + -4)) = 50
p = 4 % 7 = 0
memo[1][0] = max(memo[1][6] = 50, memo[0][2] + b[1] * (s[0] + s[1]) = 30 + 0 * (-4 + 3)) = 50
p = 5 % 7 = 1
memo[1][1] = max(memo[1][0] = 50, memo[0][3] + b[1] * (s[1] + s[2]) = 10 + 0 * (3 + 2)) = 50
p = 6 % 7 = 2
memo[1][2] = max(memo[1][1] = 50, memo[0][4] + b[1] * (s[2] + s[3]) = 10 + 0 * (2 + 1)) = 50
p = 7 % 7 = 3
memo[1][3] = max(memo[1][2] = 50, memo[0][5] + b[1] * (s[3] + s[4]) = 10 + 0 * (1 + 0)) = 50
p = 4 % 7 = 0
memo[2][0] = max(memo[2][6] = 56, memo[1][2] + b[2] * (s[0] + s[1]) = 50 + -1 * (-4 + 3)) = 56
p = 5 % 7 = 1
memo[2][1] = max(memo[2][0] = 56, memo[1][3] + b[2] * (s[1] + s[2]) = 50 + -1 * (3 + 2)) = 56
p = 6 % 7 = 2
memo[2][2] = max(memo[2][1] = 56, memo[1][4] + b[2] * (s[2] + s[3]) = 50 + -1 * (2 + 1)) = 56
p = 7 % 7 = 3
memo[2][3] = max(memo[2][2] = 56, memo[1][5] + b[2] * (s[3] + s[4]) = 50 + -1 * (1 + 0)) = 56
p = 6 % 7 = 2
memo[3][2] = max(memo[3][1] = 54, memo[2][4] + b[3] * (s[2] + s[3]) = 54 + 0 * (2 + 1)) = 54
p = 7 % 7 = 3
memo[3][3] = max(memo[3][2] = 54, memo[2][5] + b[3] * (s[3] + s[4]) = 56 + 0 * (1 + 0)) = 56
-------------------------
-------------------------
p = 5 % 7 = 5
memo[0][5] = max(memo[0][4] = -40, b[0] * (s[5] + s[6]) = 10 * (-4 + -2)) = -40
p = 6 % 7 = 6
memo[0][6] = max(memo[0][5] = -40, b[0] * (s[6] + s[0]) = 10 * (-2 + -4)) = -40
p = 7 % 7 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = 10 * (-4 + 3)) = -10
-------------------------
p = 2 % 7 = 6
memo[1][6] = max(memo[1][5] = 50, memo[0][0] + b[1] * (s[6] + s[0]) = -10 + 0 * (-2 + -4)) = 50
p = 3 % 7 = 0
memo[1][0] = max(memo[1][6] = 50, memo[0][1] + b[1] * (s[0] + s[1]) = 50 + 0 * (-4 + 3)) = 50
p = 4 % 7 = 1
memo[1][1] = max(memo[1][0] = 50, memo[0][2] + b[1] * (s[1] + s[2]) = 30 + 0 * (3 + 2)) = 50
p = 5 % 7 = 2
memo[1][2] = max(memo[1][1] = 50, memo[0][3] + b[1] * (s[2] + s[3]) = 10 + 0 * (2 + 1)) = 50
p = 6 % 7 = 3
memo[1][3] = max(memo[1][2] = 50, memo[0][4] + b[1] * (s[3] + s[4]) = -40 + 0 * (1 + 0)) = 50
p = 7 % 7 = 4
memo[1][4] = max(memo[1][3] = 50, memo[0][5] + b[1] * (s[4] + s[5]) = -40 + 0 * (0 + -4)) = 50
p = 4 % 7 = 1
memo[2][1] = max(memo[2][0] = 56, memo[1][2] + b[2] * (s[1] + s[2]) = 50 + -1 * (3 + 2)) = 56
p = 5 % 7 = 2
memo[2][2] = max(memo[2][1] = 56, memo[1][3] + b[2] * (s[2] + s[3]) = 50 + -1 * (2 + 1)) = 56
p = 6 % 7 = 3
memo[2][3] = max(memo[2][2] = 56, memo[1][4] + b[2] * (s[3] + s[4]) = 50 + -1 * (1 + 0)) = 56
p = 7 % 7 = 4
memo[2][4] = max(memo[2][3] = 56, memo[1][5] + b[2] * (s[4] + s[5]) = 50 + -1 * (0 + -4)) = 56
p = 6 % 7 = 3
memo[3][3] = max(memo[3][2] = 54, memo[2][4] + b[3] * (s[3] + s[4]) = 56 + 0 * (1 + 0)) = 56
p = 7 % 7 = 4
memo[3][4] = max(memo[3][3] = 56, memo[2][5] + b[3] * (s[4] + s[5]) = 56 + 0 * (0 + -4)) = 56
-------------------------
-------------------------
p = 6 % 7 = 6
memo[0][6] = max(memo[0][5] = -60, b[0] * (s[6] + s[0]) = 10 * (-2 + -4)) = -60
p = 7 % 7 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = 10 * (-4 + 3)) = -10
-------------------------
p = 2 % 7 = 0
memo[1][0] = max(memo[1][6] = 50, memo[0][0] + b[1] * (s[0] + s[1]) = -10 + 0 * (-4 + 3)) = 50
p = 3 % 7 = 1
memo[1][1] = max(memo[1][0] = 50, memo[0][1] + b[1] * (s[1] + s[2]) = 50 + 0 * (3 + 2)) = 50
p = 4 % 7 = 2
memo[1][2] = max(memo[1][1] = 50, memo[0][2] + b[1] * (s[2] + s[3]) = 30 + 0 * (2 + 1)) = 50
p = 5 % 7 = 3
memo[1][3] = max(memo[1][2] = 50, memo[0][3] + b[1] * (s[3] + s[4]) = 10 + 0 * (1 + 0)) = 50
p = 6 % 7 = 4
memo[1][4] = max(memo[1][3] = 50, memo[0][4] + b[1] * (s[4] + s[5]) = -40 + 0 * (0 + -4)) = 50
p = 7 % 7 = 5
memo[1][5] = max(memo[1][4] = 50, memo[0][5] + b[1] * (s[5] + s[6]) = -60 + 0 * (-4 + -2)) = 50
p = 4 % 7 = 2
memo[2][2] = max(memo[2][1] = 56, memo[1][2] + b[2] * (s[2] + s[3]) = 50 + -1 * (2 + 1)) = 56
p = 5 % 7 = 3
memo[2][3] = max(memo[2][2] = 56, memo[1][3] + b[2] * (s[3] + s[4]) = 50 + -1 * (1 + 0)) = 56
p = 6 % 7 = 4
memo[2][4] = max(memo[2][3] = 56, memo[1][4] + b[2] * (s[4] + s[5]) = 50 + -1 * (0 + -4)) = 56
p = 7 % 7 = 5
memo[2][5] = max(memo[2][4] = 56, memo[1][5] + b[2] * (s[5] + s[6]) = 50 + -1 * (-4 + -2)) = 56
p = 6 % 7 = 4
memo[3][4] = max(memo[3][3] = 56, memo[2][4] + b[3] * (s[4] + s[5]) = 56 + 0 * (0 + -4)) = 56
p = 7 % 7 = 5
memo[3][5] = max(memo[3][4] = 56, memo[2][5] + b[3] * (s[5] + s[6]) = 56 + 0 * (-4 + -2)) = 56
-------------------------
-------------------------
p = 7 % 7 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = 10 * (-4 + 3)) = -10
-------------------------
p = 2 % 7 = 1
memo[1][1] = max(memo[1][0] = 50, memo[0][0] + b[1] * (s[1] + s[2]) = -10 + 0 * (3 + 2)) = 50
p = 3 % 7 = 2
memo[1][2] = max(memo[1][1] = 50, memo[0][1] + b[1] * (s[2] + s[3]) = 50 + 0 * (2 + 1)) = 50
p = 4 % 7 = 3
memo[1][3] = max(memo[1][2] = 50, memo[0][2] + b[1] * (s[3] + s[4]) = 30 + 0 * (1 + 0)) = 50
p = 5 % 7 = 4
memo[1][4] = max(memo[1][3] = 50, memo[0][3] + b[1] * (s[4] + s[5]) = 10 + 0 * (0 + -4)) = 50
p = 6 % 7 = 5
memo[1][5] = max(memo[1][4] = 50, memo[0][4] + b[1] * (s[5] + s[6]) = -40 + 0 * (-4 + -2)) = 50
p = 7 % 7 = 6
memo[1][6] = max(memo[1][5] = 50, memo[0][5] + b[1] * (s[6] + s[0]) = -60 + 0 * (-2 + -4)) = 50
p = 4 % 7 = 3
memo[2][3] = max(memo[2][2] = 56, memo[1][2] + b[2] * (s[3] + s[4]) = 50 + -1 * (1 + 0)) = 56
p = 5 % 7 = 4
memo[2][4] = max(memo[2][3] = 56, memo[1][3] + b[2] * (s[4] + s[5]) = 50 + -1 * (0 + -4)) = 56
p = 6 % 7 = 5
memo[2][5] = max(memo[2][4] = 56, memo[1][4] + b[2] * (s[5] + s[6]) = 50 + -1 * (-4 + -2)) = 56
p = 7 % 7 = 6
memo[2][6] = max(memo[2][5] = 56, memo[1][5] + b[2] * (s[6] + s[0]) = 50 + -1 * (-2 + -4)) = 56
p = 6 % 7 = 5
memo[3][5] = max(memo[3][4] = 56, memo[2][4] + b[3] * (s[5] + s[6]) = 56 + 0 * (-4 + -2)) = 56
p = 7 % 7 = 6
memo[3][6] = max(memo[3][5] = 56, memo[2][5] + b[3] * (s[6] + s[0]) = 56 + 0 * (-2 + -4)) = 56
-------------------------
-------------------------
-------------------------
p = 2 % 7 = 2
memo[1][2] = max(memo[1][1] = 50, memo[0][0] + b[1] * (s[2] + s[3]) = -10 + 0 * (2 + 1)) = 50
p = 3 % 7 = 3
memo[1][3] = max(memo[1][2] = 50, memo[0][1] + b[1] * (s[3] + s[4]) = 50 + 0 * (1 + 0)) = 50
p = 4 % 7 = 4
memo[1][4] = max(memo[1][3] = 50, memo[0][2] + b[1] * (s[4] + s[5]) = 30 + 0 * (0 + -4)) = 50
p = 5 % 7 = 5
memo[1][5] = max(memo[1][4] = 50, memo[0][3] + b[1] * (s[5] + s[6]) = 10 + 0 * (-4 + -2)) = 50
p = 6 % 7 = 6
memo[1][6] = max(memo[1][5] = 50, memo[0][4] + b[1] * (s[6] + s[0]) = -40 + 0 * (-2 + -4)) = 50
p = 7 % 7 = 0
memo[1][0] = max(memo[1][6] = 50, memo[0][5] + b[1] * (s[0] + s[1]) = -60 + 0 * (-4 + 3)) = 50
p = 4 % 7 = 4
memo[2][4] = max(memo[2][3] = 56, memo[1][2] + b[2] * (s[4] + s[5]) = 50 + -1 * (0 + -4)) = 56
p = 5 % 7 = 5
memo[2][5] = max(memo[2][4] = 56, memo[1][3] + b[2] * (s[5] + s[6]) = 50 + -1 * (-4 + -2)) = 56
p = 6 % 7 = 6
memo[2][6] = max(memo[2][5] = 56, memo[1][4] + b[2] * (s[6] + s[0]) = 50 + -1 * (-2 + -4)) = 56
p = 7 % 7 = 0
memo[2][0] = max(memo[2][6] = 56, memo[1][5] + b[2] * (s[0] + s[1]) = 50 + -1 * (-4 + 3)) = 56
p = 6 % 7 = 6
memo[3][6] = max(memo[3][5] = 56, memo[2][4] + b[3] * (s[6] + s[0]) = 56 + 0 * (-2 + -4)) = 56
p = 7 % 7 = 0
memo[3][0] = max(memo[3][6] = 56, memo[2][5] + b[3] * (s[0] + s[1]) = 56 + 0 * (-4 + 3)) = 56
-------------------------
-------------------------
56
p = 1 % 4 = 1
memo[0][1] = max(memo[0][0] = 4, b[0] * (s[1] + s[2]) = 2 * (2 + 3)) = 10
p = 2 % 4 = 2
memo[0][2] = max(memo[0][1] = 10, b[0] * (s[2] + s[3]) = 2 * (3 + 0)) = 10
p = 3 % 4 = 3
memo[0][3] = max(memo[0][2] = 10, b[0] * (s[3] + s[0]) = 2 * (0 + 0)) = 10
p = 4 % 4 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = 2 * (0 + 2)) = 10
-------------------------
p = 2 % 4 = 2
memo[1][2] = max(memo[1][1] = -1061109567, memo[0][0] + b[1] * (s[2] + s[3]) = 10 + 2 * (3 + 0)) = 16
p = 3 % 4 = 3
memo[1][3] = max(memo[1][2] = 16, memo[0][1] + b[1] * (s[3] + s[0]) = 10 + 2 * (0 + 0)) = 16
p = 4 % 4 = 0
memo[1][0] = max(memo[1][3] = 16, memo[0][2] + b[1] * (s[0] + s[1]) = 10 + 2 * (0 + 2)) = 16
p = 4 % 4 = 0
memo[2][0] = max(memo[2][3] = -1061109567, memo[1][2] + b[2] * (s[0] + s[1]) = 16 + 0 * (0 + 2)) = 16
-------------------------
-------------------------
p = 2 % 4 = 2
memo[0][2] = max(memo[0][1] = 10, b[0] * (s[2] + s[3]) = 2 * (3 + 0)) = 10
p = 3 % 4 = 3
memo[0][3] = max(memo[0][2] = 10, b[0] * (s[3] + s[0]) = 2 * (0 + 0)) = 10
p = 4 % 4 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = 2 * (0 + 2)) = 10
-------------------------
p = 2 % 4 = 3
memo[1][3] = max(memo[1][2] = 16, memo[0][0] + b[1] * (s[3] + s[0]) = 10 + 2 * (0 + 0)) = 16
p = 3 % 4 = 0
memo[1][0] = max(memo[1][3] = 16, memo[0][1] + b[1] * (s[0] + s[1]) = 10 + 2 * (0 + 2)) = 16
p = 4 % 4 = 1
memo[1][1] = max(memo[1][0] = 16, memo[0][2] + b[1] * (s[1] + s[2]) = 10 + 2 * (2 + 3)) = 20
p = 4 % 4 = 1
memo[2][1] = max(memo[2][0] = 16, memo[1][2] + b[2] * (s[1] + s[2]) = 16 + 0 * (2 + 3)) = 16
-------------------------
-------------------------
p = 3 % 4 = 3
memo[0][3] = max(memo[0][2] = 6, b[0] * (s[3] + s[0]) = 2 * (0 + 0)) = 6
p = 4 % 4 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = 2 * (0 + 2)) = 6
-------------------------
p = 2 % 4 = 0
memo[1][0] = max(memo[1][3] = 16, memo[0][0] + b[1] * (s[0] + s[1]) = 6 + 2 * (0 + 2)) = 16
p = 3 % 4 = 1
memo[1][1] = max(memo[1][0] = 16, memo[0][1] + b[1] * (s[1] + s[2]) = 10 + 2 * (2 + 3)) = 20
p = 4 % 4 = 2
memo[1][2] = max(memo[1][1] = 20, memo[0][2] + b[1] * (s[2] + s[3]) = 6 + 2 * (3 + 0)) = 20
p = 4 % 4 = 2
memo[2][2] = max(memo[2][1] = 16, memo[1][2] + b[2] * (s[2] + s[3]) = 20 + 0 * (3 + 0)) = 20
-------------------------
-------------------------
p = 4 % 4 = 0
memo[0][0] = max(memo[0][-1] = 0, b[0] * (s[0] + s[1]) = 2 * (0 + 2)) = 4
-------------------------
p = 2 % 4 = 1
memo[1][1] = max(memo[1][0] = 16, memo[0][0] + b[1] * (s[1] + s[2]) = 4 + 2 * (2 + 3)) = 16
p = 3 % 4 = 2
memo[1][2] = max(memo[1][1] = 16, memo[0][1] + b[1] * (s[2] + s[3]) = 10 + 2 * (3 + 0)) = 16
p = 4 % 4 = 3
memo[1][3] = max(memo[1][2] = 16, memo[0][2] + b[1] * (s[3] + s[0]) = 6 + 2 * (0 + 0)) = 16
p = 4 % 4 = 3
memo[2][3] = max(memo[2][2] = 20, memo[1][2] + b[2] * (s[3] + s[0]) = 16 + 0 * (0 + 0)) = 20
-------------------------
-------------------------
-------------------------
p = 2 % 4 = 2
memo[1][2] = max(memo[1][1] = 16, memo[0][0] + b[1] * (s[2] + s[3]) = 4 + 2 * (3 + 0)) = 16
p = 3 % 4 = 3
memo[1][3] = max(memo[1][2] = 16, memo[0][1] + b[1] * (s[3] + s[0]) = 10 + 2 * (0 + 0)) = 16
p = 4 % 4 = 0
memo[1][0] = max(memo[1][3] = 16, memo[0][2] + b[1] * (s[0] + s[1]) = 6 + 2 * (0 + 2)) = 16
p = 4 % 4 = 0
memo[2][0] = max(memo[2][3] = 20, memo[1][2] + b[2] * (s[0] + s[1]) = 16 + 0 * (0 + 2)) = 20
-------------------------
-------------------------
20
